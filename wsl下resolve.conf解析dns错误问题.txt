查看
cat /etc/resolv.conf
# This file was automatically generated by WSL. To stop automatic generation of this file, add the following entry to /etc/wsl.conf:
# [network]
# generateResolvConf = false
nameserver 192.168.1.1

但是每次设置nameserver重新启动又恢复到原来那个不能用的iple。

用ls -al /etc/resolv*查看发现其实resolv.conf是个链家文件，指向/run/resolvconf/resolv.conf 

解决办法：
1、sudo cp /etc/resolv.conf /etc/resolv.conf.old
2、sudo unlink    /etc/resolv.conf
3、sudo cp  /etc/resolv.conf.old /etc/resolv.conf
4、sudo nano /etc/resolv.conf打开编辑
nameserver 114.114.114.114 or 8.8.8.8
然后退出
5、sudo nano /etc/wsl.conf
添加
[network]
generateResolvConf = false
6重启电脑，新的nameserver生效